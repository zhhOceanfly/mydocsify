# 阿里云实施

## 阿里云账号
- 主账号：
- vrworld子账号：vrworld@1671233740866481.onaliyun.com/TellhowXR%%-=Vrworld

## 阿里云配置RAM用户
- 创建RAM子账号
- 创建资源组
- 分配子账号资源组权限
  - 分配rds资源
  - 分配ecs资源
  - 分配域名资源
  - 分配cdn资源
  - 配置ssl资源
  - 分配费用账单权限

## 配置静态网站托管
- 后续官网维护
  - 阿里云->对象存储OSS->Bucket列表->上传文件
  - 阿里云->CDN->刷新预热->配置“刷新-目录-URL”即可
- 配置官网步骤：
  ```纯文本
  - oss配置bucket：official-tellhow
  - 自定义域名绑定
  - cdn加速
  - 修改域名cname
  - https证书
  - 强制跳转
  - 重写访问url
  - 私有bucket回源
  - todo:
      - 是否开启自动cdn刷新？
      - 是否开启cdn防刷？
  ```

## 配置docker镜像站
- 阿里云镜像账号密码：taihaovr/TellhowXR%%-=ACR
- 阿里云容器镜像
  ```纯文本
  - 开通个人版镜像站
  - 创建镜像仓库
  - 创建命名空间
  - 上传镜像到阿里云
      - docker login --username=taihaovr registry.cn-hangzhou.aliyuncs.com
      - docker pull registry.cn-hangzhou.aliyuncs.com/tellhowxr/gitea:1.21.8
      - docker tag gitea/gitea:1.21.8 registry.cn-hangzhou.aliyuncs.com/tellhowxr/gitea:1.21.8
      - docker push registry.cn-hangzhou.aliyuncs.com/tellhowxr/gitea:1.21.8
  ```

## 登录阿里云服务器
- 登录阿里云控制台管理
- ssh远程登录
  - 使用阿里云的密钥对配置
  - 配置ssh密钥进行远程登录
    ```shell
      ssh-keygen -R ip
      ssh-keygen -t rsa #输入private.key
        # 使用ssh-copy-id
          ssh-copy-id -i "/c/Users/zhh/.ssh/oceanfly@60.205.58.214.pub" "root@60.205.58.214"
        # 或者手动拷贝public.key到远程服务器的authorized_keys
    ```
  - 测试ssh连通性
    ```shell
      ssh -i "C:\Users\zhh\.ssh\private.key" root@ip -p 22
      ssh -T ip 
    ```

