# 运维

## 公司网络架设

### 内网部署
- 两台群晖nas管理
  - 数据nas
    - 172.16.167.220 
    - https://thxr-data.quickconnect.cn admin/TellhowXR@1NAS
  - 项管平台nas
    - 172.16.167.221，192.168.1.88
    - https://thxr-devops.quickconnect.cn admin/TellhowXR45-=NAS
- thinkserver网卡
    - 192.168.1.89/172.16.167.224-Shared.Think
- fastserver网卡
    - 192.168.1.90/172.16.167.223-Shared.Fast


### win桌面远程连接配置
    - thinkserver：**administrator/zxcv789**
    - dinoserver：**Dinosaur/zxcv789**
    - fastserver：**User/zxcv789**
    - aiserver：**1/Tellhow123**
    - 192.168.1.2：**administrator/Qwer1234**
    - 101.200.47.140:10366：**administrator/ thvrxcx.11**
  - 47.101.59.245（Ubuntu）-Outside.Asset
    - 内网ip：172.18.63.233
    - res.tellhowxr.com:80 [cdn]（json、patch、archive）资源&#x20;
      - rs-vrworld.tellhowxr.com 替代 asset.vrworld.tellhowxr.com
      - cdn加速和cdn缓存
    - 线上配置Shared.Deploy
      - Caddyfile
    - 线上部署VRWorld.Deploy
      - caddy.txt
      - 更新对应项目的运维工程即可，会合并多个项目下的caddy.txt到Caddyfile
    - 部署yapi-docker
      ```纯文本
      /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port 3000 -container-ip 172.17.0.2 -container-port 3000
      /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock
      ```
  - 112.124.54.79-linux-Outside.Think
    - 内网ip：172.25.106.25
    - nginx配置
  - 60.205.58.214-linux-Shared.Game
    - 内网ip：172.24.36.232
    - 线上测试服：[**vrworld.tellhowxr.com:9006**](http://vrworld.tellhowxr.com:9006 "vrworld.tellhowxr.com:9006")
    - 线上测试服web地址：[**http://mt.genting.tellhowxr.com/login**](http://mt.genting.tellhowxr.com/login "http://mt.genting.tellhowxr.com/login")
  - 139.224.197.50-linux-VRWorld.Game
    - 内网ip：172.16.63.232-公司外网223.84.76.x
    - 添加了一个consul运维的安全组
      ![](../image/阿里云安全组匹配公司外网ip.png)
    - nginx配置
  - 101.132.32.138\<outdate>
  - 101.200.47.140-windows\<outdate>
    - 运营后台[：](http://devops.tellhowxr.com "：")[**http://devops.tellhowxr.com**](http://devops.tellhowxr.com "http://devops.tellhowxr.com")
    - 正式web地址：[**http://genting.vrworld.tellhowxr.com/**](http://genting.vrworld.tellhowxr.com/ "http://genting.vrworld.tellhowxr.com/")
    - 公众号服务：[**mp.vrworld.tellhowxr.com**](http://mp.vrworld.tellhow.com "mp.vrworld.tellhowxr.com")
